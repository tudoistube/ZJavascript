<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="IE=edge">
<title>...286p.template</title>
<link href="../../_common/css/style.css" rel="stylesheet" type="text/css">
</head>
<body>
<header>
<div class="header-contents">
<h1>제목 : RSS 최신 기사 목록 표시.</h1>
<h2>부제목 : RSS 피드 불러오기(오프라인 버전)</h2>
</div><!-- /.header-contents -->
</header>
<div class="main-wrapper">
<section>
	<ul id="zlatest"></ul><!--...293p. -->
</section>
</div><!-- /.main-wrapper -->
<footer>JavaScript Samples</footer>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
/*...288p, 292p. 사용할 수 있는 웹 서버가 없는 경우.
		 1. rssURL 주석처리.
     2.'samplefeed.xml' 파일 이용.
*/
$(document).ready(function(){
	//var rssURL = "http://jpub.tistory.com/rss";
	$.ajax({
		url: 'samplefeed.xml',
		type: 'GET',
		dataType: 'xml',
		data: {
			//url: rssURL
		}
	})
	.done(function(data){
		console.log('done : ' + data);
		$(data).find('channel item').each(function(){
			var itemTitle = $(this).find('title').text();
			var permaLink = $(this).find('link').text();

			var pubText = $(this).find('pubDate').text();
			var pubDate = new Date(pubText);
			var dateString = '（' + pubDate.getFullYear()
			               + '/' + (pubDate.getMonth() + 1)
										 + '/' + pubDate.getDate() + '）';

			 $('#zlatest').append(
 				$('<li></li>').append(
							 					$('<a></a>')
							 					.attr('href', permaLink)
							 					.text(itemTitle)
							 				)
 											.append(dateString)
 			)
		}); //...E.each().
	})
	.fail(function(){
		window.alert('데이터 불러오기에 실패했습니다.');
	});
});
</script>
</body>
</html>
