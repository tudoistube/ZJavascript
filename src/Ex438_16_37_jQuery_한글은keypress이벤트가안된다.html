<!DOCTYPE html>

<html>
<head>
    <title>동적으로 글자수 계산</title>
    <script src="http://code.jquery.com/jquery-1.7.js"></script>
    
    <script>
        $(document).ready(
            //...textarea태그에 keyup이벤트를 연결함.
            function (event) {
            //...한글은 keypress 이벤트를 지원하지 않으므로 keyup 이벤트로 구함.
                $('textarea').keyup(
                    function () {
                        //...남은 글자수를 구함.
                        var inputtedLength = $(this).val().length;
                        var remain = 150 - inputtedLength;
                        //...문서객체에 입력함.
                        $('h1').html(remain);
                        //...문서객체의 색상을 변경함.
                        if (remain >= 0) {
                            $('h1').css('color', 'Blue');
                        } else {
                            $('h1').css('color', 'Green');
                        } //if.
                    } //function.
                ); //keyup.
            } //function.
        );      //ready.
    </script>

</head>
<body>
    <h2>동적으로 글자수 계산 및 색상변화</h2>
    <div>
        <p>지금 내 생각을</p>
        <h1>150</h1>
        <textarea cols="70" rows="5"></textarea>
    </div>
</body>
</html>