<!DOCTYPE html>

<html>
<head>
    <style>
        *{margin:0px; padding:0px;}
        /*Animation Canvas */
        .animation_canvas
        {
            overflow:hidden;/*...실행시에 주석해제할 것.*/
            position:relative;
            width:600px;
            height:400px;
            }
            
        /*Slider Panel*/
        .slider_panel
        {
            width:30000px;
            position:relative;
            }
        .slider_image
        {
            float:left;
            width:600px;
            height:400px;
            }

        /*Slider Text Panel*/
        .slider_text_panel
        {
            position:relative;
            top:200px;
            left:50px;
            }
        .slider_text
        {
            position:absolute;
            width:250px;
            height:150px;
            }
            
        /*Control Panel*/            
        .control_panel
        {
            position:absolute;
            top:380px;
            left:270px;
            height:13px;
            overflow:hidden;
        }
        .control_button
        {
            width:12px;
            height:46px;
            position:relative;
            float:left;
            cursor:pointer;
            background:url('point_button.png');
        }
        .control_button:hover{top:-16px;}
        .control_button:active{top:-31px;}        
    </style>

    <title>이미지슬라이더</title>
    <script src="http://code.jquery.com/jquery-1.7.js"></script>
    <script>
        //...1.초기텍스트위치지정.
        //...2.이벤트연결.
        //...3.각 텍스트와 컨트롤 버튼의 위치를 알수 있게 data-index 할당.
        //...4.이동하는 함수를 만듦.
        //...5.초기 슬라이더의 위치를 설정함.

        $(document).ready(
            function () {
                //...초기텍스트 위치를 지정하고, 각 요소에 each() 메서드를 사용해서
                //...사용자가 추가한 속성을 부여함.
                $('.slider_text').css('left', -300).each(
                    function (index) {
                        $(this).attr('data-index', index); //attr.
                    } //function.
                ); //each.

                //...컨트롤 버튼의 클릭 핸들러 지정과 data-index 할당.
                //....컨트롤 버튼의 클릭 핸들러 지정과 data-index 할당.
                $('.control_button').each(
                    function (index) {
                        $(this).attr('data-index', index); //attr.
                    } //function.
                ).click(
                    function () {
                        var index = $(this).attr('data-index'); //attr.
                        moveSlider(index);
                    } //function.
                ); //click.

                //...초기슬라이더 위치 지정.
                var randomNumber = Math.round(Math.random() * 4);
                moveSlider(randomNumber);

                //...슬라이더를 움직여주는 함수.
                function moveSlider(index) {
                    var willMoveLeft = -(index * 600);
                    $('.slider_panel').animate(
                        { left: willMoveLeft },
                        'slow'
                    ); //animate.

                    //...control_button 에 active 클래스를 부여/제거함.
                    $('.control_button[data-index=' + index + ']').addClass('active');
                    $('.control_button[data-index=' + index + ']').removeClass('active');

                    //...글자이동.
                    $('.slider_text[data-index=' + index + ']').show().animate(
                        { left: 0 },
                        'slow'
                    ); //animate.
                    $('.slider_text[data-index=' + index + ']').hide(
                        'slow',
                        function () {
                            $(this).css('left',-300);//css.
                        } //function.
                    ); //hdie.

                } //moveSlider.

            } //function.
        );                   //ready.
    </script>

</head>
<body>
    <h1>이미지슬라이더-Top</h1>
    <div class="animation_canvas">
        <div class="slider_panel">
        <!--
            이미지를 담는 패널로, 움직이며 이미지가 전환되는 효과를 냄.
         -->
            <img src="Desert.jpg" class="slider_image"/>
            <img src="Hydrangeas.jpg" class="slider_image"/>
            <img src="Jellyfish.jpg" class="slider_image"/>
            <img src="Koala.jpg" class="slider_image"/>
            <img src="Lighthouse.jpg" class="slider_image"/>
         
        </div>

        <div class="slider_text_panel">
        <!--
            글자를 담는 패널.
         -->
            <div class="slider_text">
                <h1>슬라이더텍스트-1</h1>
                <p>슬라이더텍스트설명-1</p>        
            </div>
            <div class="slider_text">
                <h1>슬라이더텍스트-2</h1>
                <p>슬라이더텍스트설명-2</p>        
            </div>
            <div class="slider_text">
                <h1>슬라이더텍스트-3</h1>
                <p>슬라이더텍스트설명-3</p>        
            </div>
            <div class="slider_text">
                <h1>슬라이더텍스트-4</h1>
                <p>슬라이더텍스트설명-4</p>        
            </div>
            <div class="slider_text">
                <h1>슬라이더텍스트-5</h1>
                <p>슬라이더텍스트설명-5</p>        
            </div>
        </div>

        <div class="control_panel">
        <!--
            컨트롤버튼을 담는 패널.
         -->
            <div class="control_button"></div>
            <div class="control_button"></div>
            <div class="control_button"></div>
            <div class="control_button"></div>
            <div class="control_button"></div>
        </div>    
    </div>


    <h1>이미지슬라이더-Bottom</h1>
</body>
</html>